<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>随机模式</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 20px;
}

.question {
    margin-bottom: 20px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

.question h3 {
    margin-top: 0;
}

input[type="text"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

button:hover {
    background-color: #45a049;
}

.result {
    margin-top: 20px;
    padding: 15px;
    background-color: #f9f9f9;
    border-radius: 5px;
    display: none;
}

.result p {
    margin: 5px 0;
}

.result .correct {
    color: green;
}

.result .incorrect {
    color: red;
}

.similarity-bar {
    height: 20px;
    background-color: #ddd;
    border-radius: 10px;
    margin-top: 10px;
}

.similarity-fill {
    height: 100%;
    background-color: #4CAF50;
    border-radius: 10px;
    width: 0%;
    transition: width 0.5s;
}
</style>
</head>
<body>
<h1>随机模式</h1>
<div class="question" id="random-question">
    <!-- 问题将在这里显示 -->
</div>
<div>
    <input type="text" id="user-answer" placeholder="请输入你的答案">
    <button id="submit-btn">提交答案</button>
</div>
<div class="result" id="result">
    <!-- 结果将在这里显示 -->
</div>

<script>
// 随机问题构造函数
function RandomQuestion(name, answer) {
    this.name = name;
    this.answer = answer;
}

// 随机领域的题目题库
const randomQuestions = [
    new RandomQuestion('请简述物理变化和化学变化的区别。', '物理变化不产生新物质，仅改变物质的状态或形态；化学变化会产生新物质。'),
    new RandomQuestion('举例说明什么是纯净物？什么是混合物？', '纯净物：如纯水、纯金，只由一种物质组成；混合物：如空气、盐水，由两种或多种物质混合而成。'),
    new RandomQuestion('解释什么是元素？什么是原子？', '元素是具有相同核电荷数（质子数）的一类原子的总称；原子是化学变化中的最小粒子，由原子核和核外电子构成。'),
    new RandomQuestion('金属具有哪些共同的物理性质？', '通常具有良好的导电性、导热性、延展性，且大多呈银白色光泽（除铜、金等）。'),
    new RandomQuestion('非金属元素通常具有哪些物理性质？', '通常不导电、不导热，硬度较低，常温下多为气体或固体（少数如汞为液体）。'),
    new RandomQuestion('什么是催化剂？它在化学反应中起什么作用？', '催化剂是能改变其他物质化学反应速率，而本身的质量和化学性质在反应前后都没有发生变化的物质。'),
    new RandomQuestion('什么是活化分子？', '能够发生化学反应的分子，即吸收了足够能量，克服了反应所需的能量障碍的分子。'),
    new RandomQuestion('什么是可逆反应？', '在同一条件下，既能向正反应方向进行，又能向逆反应方向进行的反应。'),
    new RandomQuestion('什么是化学计量数？', '在化学方程式中，各化学式前面的系数，表示反应物和生成物的物质的量之比。'),
    new RandomQuestion('什么是化学键？', '分子或晶体中相邻原子（或离子）之间的强烈相互作用。'),
    new RandomQuestion('什么是离子键？', '阴、阳离子之间通过静电作用形成的化学键。'),
    new RandomQuestion('什么是共价键？', '原子间通过共用电子对形成的化学键。'),
    new RandomQuestion('什么是极性键？什么是非极性键？', '不同非金属元素原子间形成的共价键，电子对偏向吸引电子能力强的原子，为极性键；同种非金属元素原子间形成的共价键，电子对不偏移，为非极性键。'),
    new RandomQuestion('什么是化学能？', '物质发生化学反应时释放或吸收的能量。'),
    new RandomQuestion('什么是可持续发展？', '既满足当代人的需求，又不损害后代人满足其需求的发展模式。'),
    new RandomQuestion('解释什么是光合作用？', '绿色植物利用光能，将二氧化碳和水转化为有机物，并释放氧气的过程。'),
    new RandomQuestion('什么是生态平衡？', '生态系统中各种生物的数量和比例相对稳定的状态。'),
    new RandomQuestion('什么是温室效应？', '大气中的某些气体（如二氧化碳）吸收地球表面向外辐射的热量，导致地球表面温度升高的现象。'),
    new RandomQuestion('什么是电磁感应现象？', '闭合电路的一部分导体在磁场中做切割磁感线运动时，导体中会产生感应电流的现象。'),
    new RandomQuestion('解释什么是惯性？', '物体保持原来运动状态不变的性质。'),
    new RandomQuestion('什么是浮力？', '浸在液体或气体中的物体受到液体或气体竖直向上的托力。')
];

// 随机选择一道题目
function getRandomQuestion() {
    const randomIndex = Math.floor(Math.random() * randomQuestions.length);
    return randomQuestions[randomIndex];
}

// 显示随机题目
function displayRandomQuestion() {
    const questionElement = document.getElementById('random-question');
    const randomQuestion = getRandomQuestion();
    questionElement.innerHTML = `<h3>问题：</h3><p>${randomQuestion.name}</p>`;
    return randomQuestion;
}

// 检查答案
function checkAnswer() {
    const userAnswer = document.getElementById('user-answer').value.trim();
    const resultElement = document.getElementById('result');
    
    if (!userAnswer) {
        resultElement.innerHTML = '<p class="incorrect">请输入你的答案！</p>';
        resultElement.style.display = 'block';
        resultElement.scrollIntoView({ behavior: 'smooth' });
        return;
    }
    
    const randomQuestion = displayRandomQuestion(); // 获取当前显示的问题
    const isCorrect = userAnswer.toLowerCase().includes(randomQuestion.answer.toLowerCase().substring(0, 10));
    
    let similarity = 0;
    if (isCorrect) {
        similarity = calculateSimilarity(userAnswer, randomQuestion.answer);
    }
    
    resultElement.innerHTML = `
        <h3>答题结果：</h3>
        <p>你的答案: <span class="${isCorrect ? 'correct' : 'incorrect'}">${userAnswer}</span></p>
        <p>正确答案: <span class="correct">${randomQuestion.answer}</span></p>
        <p class="${isCorrect ? 'correct' : 'incorrect'}">${isCorrect ? '恭喜你，回答正确！' : '很遗憾，回答错误。'}</p>
    `;
    resultElement.style.display = 'block';
    resultElement.scrollIntoView({ behavior: 'smooth' });
}

// 计算答案相似度（简单实现）
function calculateSimilarity(userAnswer, correctAnswer) {
    const userWords = userAnswer.toLowerCase().split(/\s+/);
    const correctWords = correctAnswer.toLowerCase().split(/\s+/);
    
    let matchCount = 0;
    for (let word of userWords) {
        if (correctWords.includes(word)) {
            matchCount++;
        }
    }
    
    return Math.round((matchCount / correctWords.length) * 100);
}

// 初始化页面
window.onload = function() {
    const randomQuestion = displayRandomQuestion();
    const submitBtn = document.getElementById('submit-btn');
    submitBtn.onclick = checkAnswer;
};
</script>
</body>
</html>
